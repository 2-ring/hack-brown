"use strict";(()=>{var s=typeof browser<"u"?browser.runtime:chrome.runtime,u="sb-bdpiluwfhfmitvrcdrlr-auth-token",f="theme-mode",t=null,i=null;function r(){try{let e=localStorage.getItem(u);if(!e){t!==null&&(t=null,s.sendMessage({type:"AUTH_SIGNED_OUT"}).catch(()=>{}));return}let l=JSON.parse(e),n=l?.access_token,c=l?.refresh_token,a=l?.expires_at;n&&c&&a?n!==t&&(t=n,s.sendMessage({type:"AUTH_TOKEN",accessToken:n,refreshToken:c,expiresAt:a}).catch(()=>{})):t!==null&&(t=null,s.sendMessage({type:"AUTH_SIGNED_OUT"}).catch(()=>{}))}catch{}}function o(){try{let e=localStorage.getItem(f)||"auto";e!==i&&(i=e,s.sendMessage({type:"THEME_CHANGED",themeMode:e}).catch(()=>{}))}catch{}}r();o();var d=0,h=setInterval(()=>{r(),o(),d++,d>=15&&clearInterval(h)},1e3);window.addEventListener("storage",e=>{e.key===u&&r(),e.key===f&&o()});setInterval(()=>{r(),o()},5e3);})();
//# sourceMappingURL=content.js.map
